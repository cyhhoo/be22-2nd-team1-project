@baseUrl = http://localhost:8080
@email = test@example.com
@password = Password123!
@name = Test User
@birthDate = 2005-01-01
@role = STUDENT
# registerUser() uses birthDate.substring(2), so 2005-01-01 -> 05-01-01
@authCode = 05-01-01
@accessToken =
@refreshToken =
@teacherEmail = teacher@schoolmate.test
@teacherPassword = Password123!
@teacherUserId = 10
@teacherAccessToken = eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ0ZXN0QGV4YW1wbGUuY29tIiwiaWF0IjoxNzY4MTM2ODIxLCJleHAiOjE3NjgxMzg2MjEsImF1dGgiOiJTVFVERU5UIn0.pK21IhEeBd_6QcI6pkZHQwaV3_mHYqJcfAlHxvTz0_d975X9Dn7OqfeMq8iKSXu8ewNwlaFT_hYEGQHEMrwAdg
@adminEmail = admin@schoolmate.test
@adminPassword = Password123!
@adminUserId = 1
@adminAccessToken =


### 0. 회원가입 (테스트 계정 생성)
POST http://localhost:8080/api/auth/signup
Content-Type: application/json

{
  "email": "teacher200@school.com",
  "password": "password123",
  "name": "Teacher Kim",
  "birthDate": "19901010",
  "role": "TEACHER"
}

### 0. 로그인 (토큰 발급)
POST http://localhost:8080/api/auth/login
Content-Type: application/json

{
  "email": "teacher200@school.com",
  "password": "password123"
}

> {%
client.global.set("auth_token", response.body.data.accessToken);
%}


### 1. 강좌 개설 신청 (PENDING)
POST http://localhost:8080/api/v1/courses
Content-Type: application/json
Authorization: Bearer {{auth_token}}

{
  "name": "Java Programming Basic",
  "courseType": "MANDATORY",
  "maxCapacity": 30,
  "tuition": 150000,
  "subjectId": 10,
  "academicYearId": 1,
  "teacherDetailId": 200,
  "timeSlots": [
    {
      "dayOfWeek": "MON",
      "period": 1,
      "classroom": "Room 101"
    },
    {
      "dayOfWeek": "WED",
      "period": 2,
      "classroom": "Room 101"
    }
  ]
}

### 2. 강좌 승인 (PENDING -> OPEN)
# Course ID를 실제 생성된 ID로 변경하여 테스트하세요.
POST http://localhost:8080/api/v1/courses/1/approve
Content-Type: application/json
Authorization: Bearer {{auth_token}}

### 3. 강좌 반려 (PENDING -> REFUSE)
POST http://localhost:8080/api/v1/courses/2/refuse?reason=Curriculum+Insufficient
Content-Type: application/json
Authorization: Bearer {{auth_token}}

### 4. 강좌 목록 조회 (관리자 - 전체)
GET http://localhost:8080/api/v1/courses?page=0&size=10
Content-Type: application/json
Authorization: Bearer {{auth_token}}

### 5. 강좌 목록 조회 (교사별)
GET http://localhost:8080/api/v1/courses/teacher/200?page=0&size=10
Content-Type: application/json
Authorization: Bearer {{auth_token}}

### 6. 강좌 상태 수동 변경 (OPEN -> CLOSED)
PUT http://localhost:8080/api/v1/courses/1/status?status=CLOSED
Content-Type: application/json
Authorization: Bearer {{auth_token}}

### 7. 교사 주간 시간표 조회
GET http://localhost:8080/api/v1/courses/teacher/200/timetable?semester=1
Content-Type: application/json
Authorization: Bearer {{auth_token}}

### 8. 강좌 변경 요청 (정원 증가)
POST http://localhost:8080/api/v1/courses/1/request-update?reason=Capacity+Increase
Content-Type: application/json
Authorization: Bearer {{auth_token}}

{
  "maxCapacity": 50,
  "tuition": 150000
}

### 9. 강좌 변경 요청 승인
# Request ID를 실제 생성된 ID로 변경하세요.
POST http://localhost:8080/api/v1/courses/requests/1/approve
Content-Type: application/json
Authorization: Bearer {{auth_token}}

### 10. 강좌 변경 요청 반려
POST http://localhost:8080/api/v1/courses/requests/1/reject?reason=No+Budget
Content-Type: application/json
Authorization: Bearer {{auth_token}}

### 11. 담당 교사 변경
POST http://localhost:8080/api/v1/courses/1/change-teacher?newTeacherId=201
Content-Type: application/json
Authorization: Bearer {{auth_token}}

### 12. 강좌 폐강 (관리자 삭제)
POST http://localhost:8080/api/v1/courses/1/cancel?reason=Low+Enrollment
Content-Type: application/json
Authorization: Bearer {{auth_token}}

### 13. 수강생 상세 조회
GET http://localhost:8080/api/v1/courses/1/students/50
Content-Type: application/json
Authorization: Bearer {{auth_token}}

### 14. 수강생 메모 수정
PUT http://localhost:8080/api/v1/courses/1/students/50/memo
Content-Type: application/json
Authorization: Bearer {{auth_token}}

학생이 수업 태도가 매우 우수함.

### 15. 수강생 강제 취소
POST http://localhost:8080/api/v1/courses/1/students/50/force-cancel?reason=Attendance+Issue
Content-Type: application/json
Authorization: Bearer {{auth_token}}
